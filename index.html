<!DOCTYPE html><html><head><base href="/aframe-lowroller-component/" /><meta name="author" content="James A. Hinds: The Celarien's best friend.  I'm not him, I wear glasses" /><meta http-equiv="Content-Type" content="text/html" charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>The LowRoller -- an example of an active defense against tragic shootings.</title><meta name="description" content="some good thoughts. Maybe." /><meta name="keywords" content="romance, wisdom, tarot" /><meta property="fb:admins" content="1981510532097452" /><script>// This is called with the results from from FB.getLoginStatus().
function statusChangeCallback(response) {
//console.log('statusChangeCallback');
//console.log(response);
// The response object is returned with a status field that lets the
// app know the current login status of the person.
// Full docs on the response object can be found in the documentation
// for FB.getLoginStatus().
if (response.status === 'connected') {
  // Logged into your app and Facebook.
  testAPI();
} else {
  // The person is not logged into your app or we are unable to tell.
  document.getElementById('fb-status').innerHTML = 'Please log ' +
    'into this app.';
}
}

// This function is called when someone finishes with the Login
// Button.  See the onlogin handler attached to it in the sample
// code below.
function checkLoginState() {
FB.getLoginStatus(function(response) {
  statusChangeCallback(response);
});
}

window.fbAsyncInit = function() {
FB.init({
appId      : '1981510532097452',
cookie     : true,  // enable cookies to allow the server to access 
                    // the session
xfbml      : true,  // parse social plugins on this page
version    : 'v2.8' // use graph api version 2.8
});

// Now that we've initialized the JavaScript SDK, we call 
// FB.getLoginStatus().  This function gets the state of the
// person visiting this page and can return one of three states to
// the callback you provide.  They can be:
//
// 1. Logged into your app ('connected')
// 2. Logged into Facebook, but not your app ('not_authorized')
// 3. Not logged into Facebook and can't tell if they are logged into
//    your app or not.
//
// These three cases are handled in the callback function.

FB.getLoginStatus(function(response) {
statusChangeCallback(response);
});

};

// Load the SDK asynchronously
(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/sdk.js";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

// Here we run a very simple test of the Graph API after login is
// successful.  See statusChangeCallback() for when this call is made.
function testAPI() {
//console.log('Welcome!  Fetching your information.... ');
FB.api('/me', 'get', {'fields':'first_name,gender'}, function(response) {
  //console.log('Successful login for: ', response);
  $('.FBname').text(response.first_name);
  document.getElementById('fb-status').innerHTML =
    'Thanks for logging in, ' + response.first_name + '!';
});
}</script><script>document.styling = {"palx":"#03c","black":"#000","white":"#fff"}</script><link rel="apple-touch-icon" sizes="57x57" href="assets/icons/apple-icon-57x57.png" /><link rel="apple-touch-icon" sizes="60x60" href="assets/icons/apple-icon-60x60.png" /><link rel="apple-touch-icon" sizes="72x72" href="assets/icons/apple-icon-72x72.png" /><link rel="apple-touch-icon" sizes="76x76" href="assets/icons/apple-icon-76x76.png" /><link rel="apple-touch-icon" sizes="114x114" href="assets/icons/apple-icon-114x114.png" /><link rel="apple-touch-icon" sizes="120x120" href="assets/icons/apple-icon-120x120.png" /><link rel="apple-touch-icon" sizes="144x144" href="assets/icons/apple-icon-144x144.png" /><link rel="apple-touch-icon" sizes="152x152" href="assets/icons/apple-icon-152x152.png" /><link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-icon-180x180.png" /><link rel="icon" type="image/png" sizes="192x192" href="assets/icons/android-icon-192x192.png" /><link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png" /><link rel="icon" type="image/png" sizes="96x96" href="assets/icons/favicon-96x96.png" /><link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png" /><link rel="manifest" href="assets/manifest.json" /><meta name="msapplication-TileColor" content="#ffffff" /><meta name="msapplication-TileImage" content="assets/icons/ms-icon-144x144.png" /><meta name="theme-color" content="#ffffff" /><link rel="stylesheet" href="assets/css/vendor.css" -content--encoding="gzip" /><link rel="stylesheet" href="assets/css/app.css" -content--encoding="gzip" /><link rel="shortcut icon" href="assets/icons/favicon.ico" type="image/x-icon" /><link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon" /><script src="allstories.json"></script><script src="mystories.json"></script><script src="assets/js/vendor.js" -content--type="text/javascript" -content--encoding="gzip"></script><script src="assets/js/app.js" -content--type="text/javascript" -content--encoding="gzip"></script><script>siteHandle = 'lowroller'; topDomain = 'jahbini.github.io'; require('initialize');</script><script src="https://aframe.io/releases/0.8.0/aframe.js"></script><script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.2.0/dist/aframe-physics-system.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.7.1/coffee-script.min.js"></script><script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script><script src="https://unpkg.com/aframe-arrow-component@1.0.0/index.js"></script><style type="text/css">a-scene { height: 300px; width: 600px; }
.console {
  background: #fff;
  color: #000;
  padding: 0;
  position: relative;
}
.console * {
  border: 0;
  font: normal 14px/1.3 Consolas,'Andale Mono','Courier New',Courier,monospace;
  margin: 0;
  outline: 0;
  padding: 0;
}
.console textarea {
  background: transparent;
  color: #000;
  display: block;
  overflow: hidden;
  resize: none;
  vertical-align: middle;
  width: 100%;
  word-wrap: normal;
}
.console-container {
  max-height: 100%;
  overflow: auto;
}
.console-container span.string {
  color: #c00;
}
.console-container span.string::before,
.console-container span.string::after {
  color: #333;
  content: '"';
}
.console-container span.number {
  color: #00f;
}
.console-container span.null,
.console-container span.undefined {
  color: #999;
}
.console-container ol.array {
 display: inline-block;
}
.console-container ol.array::before {
  color: #999;
  content: '[';
}
.console-container ol.array::after {
  color: #999;
  content: ']';
}
.console-container ol.array li {
  display: inline-block;
}
.console-container ol.array li::after {
  color: #999;
  content: ',';
}
.console-container ol.array li:last-child::after {
  content: none;
}
.console-container dl.object::before {
  color: #000;
  content: '{';
}
.console-container dl.object::after {
  color: #000;
  content: '}';
  margin-left: 0.5em;
}
.console-container dl {
  display: inline-block;
}
.console-container dl.object dt, .console-container dl.object dd {
  display: inline-block;
}
.console-container dl.object dt {
  color: #909;
  margin-left: 0.5em;
}
.console-container dl.object dt::after {
  color: #000;
  content: ':';
  margin-right: 0.25em;
}
.console-container dl.object dd::after {
  content: ',';
}
.console-container dl.object dd:last-child::after {
  content: none;
}
.console-container div.element div.open,
.console-container div.element div.close {
  color: #909;
  display: inline;
}
.console-container div.element div.open::before {
  content: '<';
}
.console-container div.element div.close::before {
  content: '</';
}
.console-container div.element div.open::after,
.console-container div.element div.close::after {
  content: '>';
}
.console-container div.element div.content {
  display: none;
}
.console-container div.element dl,
.console-container div.element dt,
.console-container div.element dd {
  display: inline;
}
.console-container div.element dt {
  color: #c00;
  margin-left: 0.5em;
}
.console-container div.element dt::after {
  content: '=';
}
.console-container div.element dd {
  color: #00f;
}
.console-container div.element dd::before,
.console-container div.element dd::after {
  color: #c00;
  content: '"';
}
.console-container p {
  padding-left: 15px;
  position: relative;
}
.console-container p::before {
  color: #ccc;
  content: '>';
  left: 0;
  position: absolute;
  text-align: center;
  top: 0;
  vertical-align: middle;
  width: 15px;
}
.console-container p.console-input::before {
  color: #39f;
}
.console-container p div.command {
  color: #39f;
  white-space: pre;
}
.console-container p.error div.result {
  color: #f00;
}</style></head><body><div id="lowroller-body" class="c-text o-grid o-grid--full"><div class="style c-hero" style="{ border-bottom: 1px solid #333; }"></div><div class="c-hero o-grid__cell u-higher"></div><div class="o-grid__cell" style="min-height:100vh"><div class="o-grid"><div id="storybar" class="o-grid__cell order-2"><div id="main" class="bg-silver u-highest"><header class="c-card__header"><h2 class="c-heading c-heading--small">index<div class="c-heading__sub">---</div></h2></header><div class="c-card__body"><div class="m1 bg-darken-1"><div class="m2"><h3>The LowRoller version of the RollerBall</h3><p>Did you ever see a Samurai movie where the police take down a rampaging samuri?</p><p>They simply surrounded the samuri with wooden staffs to keep him farther than swords length, and poked him until he gave up.  we have nothing like that for a man with a gun.  Enter the LowRoller</p><p>The LowRoller rollerBall is about the size of a basketball or soccerball.  It is
covered with a hard shell with a surface like leather.  It's mass is a few kilograms.
It can alter it's center of gravity to roll around.  that's it.</p><p>Even with that limitation, it can gang up at the feet of a person causing a threat.
The random motions of the balls will make the attacker lose balance and be unable to continue.</p><p>The controls below alter the PID parameters for the heavy Red and lighter Green balls.  Some of the settings will result in
unstable behavior, especially negative values for &quot;delta.&quot;  The green balls can be altered in behavior by being more agressive, and 
can acutally jump over red balls to go to the proper marker.  The blue balls are fast because they break some of the laws of physics.
They represent an upper bound on the behavior of these roller balls.</p></div><div id="console0" class="left" data-limit="100"></div><script type="text/javascript">(function() {
  var slice = [].slice,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };
  (function () {
    var C, CANNON, PID, TetraForcer, V2A, commandByTeam, coordinates, dLay, debug, fillRanges, innieCounter, innieID, isCoordinates, loopMe, pointToWorldFrame, setEverything;
    window.demo = true;

    /* 
    var CANNON = require('cannon');
     */
    CANNON = window.CANNON;
    PID = (function() {

      /*
      the PID style of controller is intended to track a quantity from the real world as detected by some sensor.
      The sensor is assumed to be reliable as possible, consistent and acccurate.
      the output of the controller is a single quantity that controls a single output device.
      The output device is related in some fashion to changes in the real world that affect the sensor.
      A PID controller ses the input values to compte an output variable by looking at three internally 
      computed quantities.
      1) the Proportial component, which simply is related to "How far away from our goal are we?"
      2) the Integral component, which is related to "How far have we come to our goal?"
      3) the Differential component, which asks "are we taking big steps, or tiny ones?"
       */
      function PID(options) {
        this.proportionalParm = 1;
        this.integrationParm = 0;
        this.derivativeParm = 0;
        this.dt = 0;
        this.integrationLimit = 0;
        this.setParms(options);
        this.reset();
        return;
      }

      PID.prototype.setParms = function(options) {
        if (options.p) {
          this.proportionalParm = options.p;
        }
        if (options.i) {
          this.integrationParm = options.i;
        }
        if (options.d) {
          this.derivativeParm = options.d;
        }
        if (options.dt) {
          this.dt = options.dt;
        }
        if (options.integrationLimit) {
          this.integrationLimit = options.integrationLimit;
        }
      };

      PID.prototype.toString = function() {
        return "P: " + this.proportionalParm + " - I: " + this.integrationParm + " - D: " + this.derivativeParm;
      };

      PID.prototype.setTarget = function(target) {
        this.target = target;
        this.lastTime = Date.now();
      };

      PID.prototype.update = function(currentValue) {
        var currentTime, dDelta, delta, dt, ref, sumSign;
        this.currentValue = currentValue;
        dt = this.dt;
        if (!dt) {
          currentTime = Date.now();
          dt = (currentTime - this.lastTime) / 1000;
          this.lastTime = currentTime;
        }
        if (typeof dt !== 'number' || dt === 0) {
          dt = 1;
        }
        delta = this.target - this.currentValue;
        this.sumDelta = this.sumDelta * 0.9 + delta * dt;
        if ((0 < (ref = this.integrationLimit) && ref < Math.abs(this.sumDelta))) {
          sumSign = this.sumDelta > 0 ? 1 : -1;
          this.sumDelta = sumSign * this.integrationLimit;
        }
        dDelta = (delta - this.lastDelta) / dt;
        this.lastDelta = delta;
        return (this.proportionalParm * delta) + (this.integrationParm * this.sumDelta) + (this.derivativeParm * dDelta);
      };

      PID.prototype.reset = function() {
        this.sumDelta = 0;
        this.lastDelta = 0;
        this.setTarget(0);
      };

      return PID;

    })();

    /*
    * Convert a local body point to world frame.
    * @method pointToWorldFrame
    * @param  {Vec3} localPoint
    * @param  {Vec3} result
    * @return {Vec3}
     */
    pointToWorldFrame = function(body, localPoint, result) {
      if (result == null) {
        result = new CANNON.Vec3();
      }
      body.quaternion.vmult(localPoint, result);
      result.vadd(body.position, result);
      return result;
    };

    /**
     * A tetraForcer, connecting two bodies by four tetrahedral anchors.
     *
     * @class TetraForcer
     * @constructor
     * @param {Body} outie
     * @param {Body} innie
     * @param {Object} [options]
     */
    TetraForcer = (function() {
      var Vec3, nullPoint, nullVector;

      function TetraForcer(outie, innie1, options) {
        var Vec3, i, j, p;
        this.outie = outie;
        this.innie = innie1;
        if (options == null) {
          options = {};
        }
        p = options.pid || {};
        p.p = p.p || 40;
        p.i = p.i || 40;
        p.d = p.d || 0.4;
        this.pIDs = [];
        for (i = j = 0; j <= 3; i = ++j) {
          this.pIDs.push(new PID(p));
        }

        /**
         * min force
         * resting force
         * @property minForce
         * @type {number}
         */
        this.minForce = options.minForce || 10;
        this.equations = [];
        Vec3 = CANNON.Vec3;
        this.temps = {
          tetW: new Vec3(),
          forcePositionW: new Vec3(),
          tetraVector: new Vec3(),
          innieAttachPointW: new Vec3(),
          seekPositionL: new Vec3(),
          seekPositionW: new Vec3(),
          pursueVector: new Vec3()
        };
        return;
      }

      TetraForcer.prototype.update = function(options) {
        var i, j, len, ref;
        if (options == null) {
          options = {};
        }

        /**
         * debug by showning marker and computed forces
         */
        if (options.debug) {
          this.debug = options.debug;
        }

        /**
         * Proportional, Integral, Differential parameters
         * @property pid
         * @type {object}
         */
        if (options.pid) {
          ref = this.pIDs;
          for (j = 0, len = ref.length; j < len; j++) {
            i = ref[j];
            i.setParms(options.pid);
          }
        }
      };

      TetraForcer.prototype.toString = function() {
        return this.pIDs[0].toString();
      };


      /**
       * Set the anchor point on body A, using world coordinates.
       * @method setWorldAnchorA
       * @param {Vec3} worldAnchorA
       */

      TetraForcer.prototype.setWorldAnchorA = function(worldAnchorA) {
        this.outie.pointToLocalFrame(worldAnchorA, this.localAnchorA);
      };


      /**
       * Set the anchor point on body B, using world coordinates.
       * @method setWorldAnchorB
       * @param {Vec3} worldAnchorB
       */

      TetraForcer.prototype.setWorldAnchorB = function(worldAnchorB) {
        this.innie.pointToLocalFrame(worldAnchorB, this.localAnchorB);
      };


      /**
       * Get the anchor point on body A, in world coordinates.
       * @method getWorldAnchorA
       * @param {Vec3} result The vector to store the result in.
       */

      TetraForcer.prototype.getWorldAnchorA = function(result) {
        pointToWorldFrame(this.outie, this.localAnchorA, result);
      };


      /**
       * Get the anchor point on body B, in world coordinates.
       * @method getWorldAnchorB
       * @param {Vec3} result The vector to store the result in.
       */

      TetraForcer.prototype.getWorldAnchorB = function(result) {
        pointToWorldFrame(this.innie, this.localAnchorB, result);
      };

      Vec3 = CANNON.Vec3;

      nullVector = nullPoint = new Vec3();


      /**
       * Apply the linearMotor force to the connected bodies.
       * @method applyForce
       */

      TetraForcer.prototype.update = function() {
        var adjust, direction, dt, force, inf, innieID, j, len, otf, outieLimitW, pursue, ref, tetToInnieDistance, tetToSeekDistance, tetraStruct;
        dt = 0.0166;
        pursue = this.outie.el.pursuit();
        outieLimitW = this.outie.radius * 0.9;
        pursue.vsub(this.outie.position, this.temps.pursueVector);
        this.temps.pursueVector.normalize();
        this.temps.pursueVector.scale(outieLimitW, this.temps.pursueVector);
        this.outie.position.vadd(this.temps.pursueVector, this.temps.seekPositionW);
        this.outie.pointToLocalFrame(this.temps.seekPositionW, this.temps.seekPositionL);
        if (this.type === 'tetraPositioner') {
          this.innie.position.copy(this.outie.pointToWorldFrame(this.temps.seekPositionL));
          this.innie.velocity.copy(this.innie.initVelocity);
          this.outie.applyForce(new Vec3(0, -9.6 * this.innie.mass, 0.1), this.innie.position.vsub(this.outie.position));
          return;
        }
        ref = this.outie.tetraPoints;
        for (j = 0, len = ref.length; j < len; j++) {
          tetraStruct = ref[j];
          tetraStruct.cannonLocal.scale(this.outie.radius, this.temps.tetW);
          pointToWorldFrame(this.outie, this.temps.tetW, this.temps.tetW);
          pointToWorldFrame(this.innie, nullPoint, this.temps.innieAttachPointW);
          this.temps.tetW.vsub(this.innie.position, this.temps.tetraVector);
          tetToSeekDistance = this.temps.tetW.distanceTo(this.temps.seekPositionW);
          tetToInnieDistance = this.temps.tetW.distanceTo(this.innie.position);
          force = this.minForce * this.innie.mass;
          adjust = (this.innie.mass + this.outie.mass) * this.pIDs[tetraStruct.index].update(tetToSeekDistance - tetToInnieDistance);
          force += adjust;
          this.temps.tetraVector.normalize();
          this.temps.tetraVector.scale(force, this.temps.tetraVector);
          this.temps.innieAttachPointW.vsub(this.innie.position, this.temps.forcePositionW);
          this.innie.applyForce(this.temps.tetraVector, this.temps.forcePositionW);
          this.temps.tetraVector.scale(-1, this.temps.tetraVector);
          this.temps.tetW.vsub(this.outie.position, this.temps.forcePositionW);
          this.outie.applyForce(this.temps.tetraVector, this.temps.forcePositionW);
          if (!this.debug) {
            continue;
          }
          innieID = this.innie.el.id;
          inf = document.querySelector("#" + innieID + "__marker");
          inf.setAttribute("position", this.temps.seekPositionW);
          inf = document.querySelector("#" + innieID + "__innieForce__" + tetraStruct.index);
          inf.setAttribute("position", this.innie.position);
          this.temps.tetraVector.normalize();
          direction = this.temps.tetraVector;
          inf.setAttribute("arrow", "direction: " + direction.x + " " + direction.y + " " + direction.z + "; length: " + (force / 10));
          otf = document.querySelector("#" + innieID + "__outieForce__" + tetraStruct.index);
          otf.setAttribute("position", this.temps.tetW);
          otf.setAttribute("arrow", "direction: " + (-1 * direction.x) + " " + (-1 * direction.y) + " " + (-1 * direction.z) + "; length: " + (force / 10));
        }
      };

      return TetraForcer;

    })();

    /*
     * Register the component with the A-Frame system
     * decode and pass options along
     *
     */
    AFRAME.registerComponent('tetra-motor', {
      multiple: false,
      schema: {
        type: {
          oneOf: ['tetraPositioner', 'tetraForcer'],
          "default": 'tetraForcer'
        },
        debug: {
          type: 'boolean',
          "default": false
        },
        target: {
          type: 'selector'
        },
        minForce: {
          "default": 10,
          min: 0
        },
        maxForce: {
          "default": 1e6,
          min: 0
        },
        collideConnected: {
          "default": true
        },
        wakeUpBodies: {
          "default": true
        },
        pid: {
          parse: function(v) {
            var a, d, i, p;
            if (typeof v === 'object') {
              p = v.p || 20;
              i = v.i || 10;
              d = v.d || 1;
            }
            if (typeof v === 'string') {
              p = 20;
              i = 10;
              d = 1;
              v = v.toLowerCase();
              v = v.replace(/,+/g, ' ');
              v = v.replace(/\s+/g, ' ');
              if (a = v.match(/p:\s*(-?[\d.]+)/)) {
                p = a[1];
              }
              if (a = v.match(/i:\s*(-?[\d.]+)/)) {
                i = a[1];
              }
              if (a = v.match(/d:\s*(-?[\d.]+)/)) {
                d = a[1];
              }
            }
            return {
              p: p,
              i: i,
              d: d
            };
          },
          "default": {
            p: 20,
            i: 10,
            d: 1
          },
          toString: function(v) {
            return "p: " + v.p + ", i: " + v.i + ", d: " + v.d;
          }
        },
        restLength: {
          type: 'number',
          "default": 0
        },
        localAnchor: {
          type: 'vec3',
          "default": {
            x: 0,
            y: 0,
            z: 0
          }
        },
        localTarget: {
          type: 'vec3',
          "default": {
            x: 0,
            y: 0,
            z: 0
          }
        }
      },
      init: function() {
        this.system = this.el.sceneEl.systems.physics;
        this.constraint = null;
      },
      toString: function() {
        return this.constraint.toString();
      },
      remove: function() {
        if (!this.constraint) {
          return;
        }
        this.system.removeConstraint(this.constraint);
        this.constraint = null;
      },
      setPID: function(data) {
        var e, j, len, ref;
        ref = this.constraint.pIDs;
        for (j = 0, len = ref.length; j < len; j++) {
          e = ref[j];
          e.setParms(data);
        }
      },
      update: function() {
        var data, el, ref;
        el = this.el;
        data = this.data;
        this.remove();
        if (!el.body || !((ref = data.target) != null ? ref.body : void 0)) {
          (el.body ? data.target : el).addEventListener('body-loaded', this.update.bind(this, {}));
          return;
        }
        this.constraint = this.createConstraint();
        this.system.addConstraint(this.constraint);
      },
      createConstraint: function() {
        var constraint, data, lA, lB;
        constraint = void 0;
        data = this.data;
        constraint = void 0;
        switch (data.type) {
          case 'tetraForcer':
          case 'tetraPositioner':
            lA = this.data.localAnchor;
            lB = this.data.localTarget;
            constraint = new TetraForcer(this.el.body, data.target.body, {
              pid: {
                p: data.pid.p,
                i: data.pid.i,
                d: data.pid.d,
                dt: 0.016
              },
              debug: data.debug,
              minForce: this.data.minForce
            });
            constraint.type = data.type;
            break;
          default:
            throw new Error('[constraint] Unexpected type: ' + data.type);
        }
        return constraint;
      }
    });
    setEverything = function(e, attributes, hash) {
      var a, v;
      if (hash == null) {
        hash = {};
      }
      for (a in attributes) {
        v = attributes[a];
        e.setAttribute(a, v);
      }
      for (a in hash) {
        v = hash[a];
        e[a] = v;
      }
      if (e.updateProperties != null) {
        e.updateProperties();
      }
    };
    innieCounter = 0;
    innieID = function() {
      return "innie__" + (++innieCounter);
    };
    dLay = function(f) {
      return setTimeout(f, 0);
    };
    V2A = function(position) {
      return position.x + " " + position.y + " " + position.z;
    };
    C = function(x, y, z) {
      if (x == null) {
        x = 0;
      }
      if (y == null) {
        y = 0;
      }
      if (z == null) {
        z = 0;
      }
      return new CANNON.Vec3(x, y, z);
    };
    debug = AFRAME.utils.debug;
    coordinates = AFRAME.utils.coordinates;
    isCoordinates = coordinates.isCoordinates || coordinates.isCoordinate;
    AFRAME.registerComponent('lowroller', {
      schema: {
        inner: {
          type: 'number',
          "default": 9
        },
        outer: {
          type: 'number',
          "default": 1
        },
        debug: {
          type: 'boolean',
          "default": false
        },
        pid: {
          "default": {
            p: 20,
            i: 10,
            d: 1
          },
          parse: function(v) {
            var a, d, i, p;
            if (typeof v === 'object') {
              p = v.p || 200;
              i = v.i || 100;
              d = v.d || 1;
            }
            if (typeof v === 'string') {
              p = 20;
              i = 10;
              d = 1;
              v = v.toLowerCase();
              v = v.replace(/,+/g, ' ');
              v = v.replace(/\s+/g, ' ');
              if (a = v.match(/p:\s*(-?[\d.]+)/)) {
                p = a[1];
              }
              if (a = v.match(/i:\s*(-?[\d.]+)/)) {
                i = a[1];
              }
              if (a = v.match(/d:\s*(-?[\d.]+)/)) {
                d = a[1];
              }
            }
            return {
              p: p,
              i: i,
              d: d
            };
          }
        },
        type: {
          oneOf: ['tetraPositioner', 'tetraForcer'],
          "default": 'tetraForcer'
        },
        pursuit: {
          "default": 'self',
          parse: function(value) {
            if (isCoordinates(value) || typeof value === 'object') {
              return coordinates.parse(value);
            }
            return value;
          },
          stringify: function(data) {
            if (typeof data === 'object') {
              return coordinates.stringify(data);
            }
            return data;
          }
        }
      },
      controlPoints: [],

      /*
      iterate over the four tetrahedral control points
       */
      accessControlPoints: function(f) {
        var element, j, len, ref, results;
        ref = this.controlPoints;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          element = ref[j];
          results.push(f(element));
        }
        return results;
      },

      /*
      setPursuit aims the low-roller at this xy destination
       */
      setPursuit: function(p) {
        var m, targetEl;
        if (!this.el.body) {
          this.el.addEventListener('body-loaded', (function(_this) {
            return function(event) {
              return _this.setPursuit(p);
            };
          })(this));
          return;
        }
        this.pursuitVector.copy(this.el.body.position);
        this.el.pursuit = (function(_this) {
          return function() {
            return _this.pursuitVector;
          };
        })(this);
        if (p === 'self' || p === 'idle') {
          return;
        }
        if (typeof p === 'object') {
          this.pursuitVector.copy({
            x: p.x,
            y: 0,
            z: p.y
          });
          return;
        }
        if (m = p.trim().match(/(-?[\d.]+)[,\s]+(-?[\d.]+)([,\s]+(-?[\d.]+))?/)) {
          this.pursuitVector.copy({
            x: m[1],
            y: 0,
            z: m[2]
          });
          return;
        }
        targetEl = this.el.sceneEl.querySelector(p);
        if (!targetEl) {
          return;
        }
        if (!targetEl.hasLoaded) {
          targetEl.addEventListener('loaded', (function(_this) {
            return function() {
              _this.setPursuit(p);
            };
          })(this));
          return;
        }
        if (targetEl.body) {
          this.el.pursuit = function() {
            return targetEl.body.position;
          };
          return;
        }
        this.el.pursuit = (function(_this) {
          return function() {
            _this.pursuitVector.copy(targetEl.object3D.position);
            return _this.pursuitVector;
          };
        })(this);
      },

      /*
      Initialization
       */
      init: function() {
        var colors, data, innie, marker, position, radius, scale, tetrahedralDescription, v;
        this.initRuntime = true;
        tetrahedralDescription = [];
        (function() {
          var j, k, len, len1, r, y, z;
          r = [1, -1];
          for (j = 0, len = r.length; j < len; j++) {
            z = r[j];
            for (k = 0, len1 = r.length; k < len1; k++) {
              y = r[k];
              tetrahedralDescription.push({
                p: new THREE.Vector3(z * y, y, z),
                normed: (new THREE.Vector3(z * y, y, z)).normalize(),
                raw: [z * y, y, z],
                cannonLocal: (C(z * y, y, z)).unit(),
                index: tetrahedralDescription.length,
                flip: 1
              });
            }
          }
        })();

        /*
        tetrahedron init
         */
        this.tetrahedralDescription = tetrahedralDescription;
        data = this.data;
        this.pursuitVector = C();
        this.setPursuit(this.data.pursuit);
        radius = this.el.components.geometry.data.radius;
        scale = this.el.components.geometry.data.scale;
        this.totalMass = data.inner + data.outer;
        position = this.el.components.position.data;
        this.el.addEventListener('body-loaded', (function(_this) {
          return function(event) {
            var body;
            body = event.currentTarget.body;
            body.velocity.set(0, 0, 0);
            body.angularVelocity.set(0, 0, 0);
            body.quaternion = body.initQuaternion;
            body.radius = _this.el.components.geometry.data.radius;
            body.tetraPoints = tetrahedralDescription;
            body.updateProperties();
          };
        })(this));

        /*
        Outer sphere physics attributes
         */
        this.el.setAttribute('dynamic-body', "shape:'sphere'; sphereRadius:" + radius + "; mass: " + data.outer + "; linearDamping: 0.5; angularDamping: 0.91;");
        this.el.setAttribute("geometry", "primitive: sphere; radius: " + radius);

        /*
        create inner sphere
         */
        innie = document.createElement('a-sphere');
        innie.id = innieID();
        this.myInnieID = innieCounter;
        innie.setAttribute('radius', "" + (data.outer / this.totalMass));
        innie.setAttribute("position", position);
        innie.setAttribute('dynamic-body', "shape:'sphere'; sphereRadius: " + (data.outer / this.totalMass) + "; mass: " + data.inner + "; linearDamping: 0.5; angularDamping: 0.5");
        this.innie = innie;
        this.innie.addEventListener('body-loaded', (function(_this) {
          return function(event) {
            var body;
            body = event.currentTarget.body;
            body.collisionResponse = true;
            body.collisionFilterGroup = 2;
            body.collisionFilterMask = 1;
            body.updateProperties();
          };
        })(this));
        this.el.parentElement.insertBefore(innie, this.el);

        /*
        create tetrahedron
         */

        /*
        create tetrahedral support points
         */
        this.controlPoints = (function() {
          var j, len, results;
          results = [];
          for (j = 0, len = tetrahedralDescription.length; j < len; j++) {
            v = tetrahedralDescription[j];
            results.push(Object.assign({}, v));
          }
          return results;
        })();
        this.myPoints = this.accessControlPoints((function(_this) {
          return function(e) {
            var mPivotPoint, p2, pivotPoint;
            pivotPoint = V2A(e.normed.multiplyScalar(radius));
            mPivotPoint = V2A(e.normed.multiplyScalar(-radius));
            p2 = V2A(e.normed.multiplyScalar(-radius));
          };
        })(this));
        if (data.debug) {
          marker = document.createElement('a-sphere');
          marker.id = innie.id + "__marker";
          marker.setAttribute("position", "0 0 0");
          marker.setAttribute("radius", "0.05");
          marker.setAttribute("color", "black");
          this.el.parentElement.insertBefore(marker, this.el);
          colors = ["#fff", "#f88", "#8F8", "#88F"];
          this.accessControlPoints((function(_this) {
            return function(e) {
              var iVector;
              iVector = document.createElement('a-entity');
              iVector.setAttribute('arrow', "direction: 1 1 1; length:1; color: " + colors[e.index]);
              iVector.id = _this.innie.id + "__innieForce__" + e.index;
              _this.el.parentElement.insertBefore(iVector, _this.el);
              iVector = document.createElement('a-entity');
              iVector.setAttribute('arrow', "direction: 1 1 1; length:1; color: " + colors[e.index]);
              iVector.id = _this.innie.id + "__outieForce__" + e.index;
              return _this.el.parentElement.insertBefore(iVector, _this.el);
            };
          })(this));
        }
        this.el.setAttribute("tetra-motor", {
          target: "#" + this.innie.id,
          minForce: 15,
          type: data.type,
          debug: data.debug,
          pid: data.pid
        });
        this.el.addEventListener("setPID", (function(_this) {
          return function(event) {
            _this.el.components['tetra-motor'].setPID(event.detail);
          };
        })(this));
        this.el.addEventListener("showPID", (function(_this) {
          return function(cb) {
            cb.detail(_this.el.components['tetra-motor'].toString());
          };
        })(this));
        this.el.addEventListener("setAction", (function(_this) {
          return function(event) {
            if (event.detail.chase) {
              _this.setPursuit(event.detail.chase);
            }
            if (event.detail.idle) {
              _this.setPursuit('idle');
            }
          };
        })(this));
        console.log("INIT", this.totalMass, radius);
      },
      update: function() {
        this.setPursuit(this.data.pursuit);
        console.log("UPDATE");
      },
      remove: function() {
        console.log("REMOVE");
      },
      pause: function() {
        console.log("PAUSE");
      },
      play: function() {
        console.log("PLAY");
      },

      /*
      Tick updated on each physics state
       */
      tick: function() {},
      tock: function() {}
    });
    fillRanges = function(color) {
      var els;
      els = document.querySelectorAll('.' + color);
      return els[0].emit('showPID', function(v) {
        var a, where;
        console.log(v);
        debugger;
        where = document.querySelector("#show-" + color);
        where.innerHTML = v;
        v = v.toLowerCase();
        v = v.replace(/,+/g, ' ');
        v = v.replace(/\s+/g, ' ');
        if (a = v.match(/p:\s*(-?[\d.]+)/)) {
          document.querySelector("#" + color + "pControl").value = a[1];
        }
        if (a = v.match(/i:\s*(-?[\d.]+)/)) {
          document.querySelector("#" + color + "iControl").value = a[1];
        }
        if (a = v.match(/d:\s*(-?[\d.]+)/)) {
          document.querySelector("#" + color + "dControl").value = a[1];
        }
      });
    };
    Pylon.on("loaded", function() {
      fillRanges("red");
      return fillRanges("green");
    });
    Pylon.on("updatePid", function(info) {
      var e, els, j, len, who;
      who = info.who;
      delete info.who;
      els = document.querySelectorAll('.' + who);
      if (els.length === 0) {
        return false;
      }
      for (j = 0, len = els.length; j < len; j++) {
        e = els[j];
        e.emit('setPID', info);
      }
      fillRanges(who);
      return false;
    });
    loopMe = function(color, points) {
      var el;
      el = document.querySelector("#marker-" + color);
      el.object3D.position.applyAxisAngle({
        x: 0,
        y: 1,
        z: 0
      }, 2 * Math.PI / points);
      commandByTeam(color, {
        chase: "#marker-" + color
      });
    };
    setInterval((function() {
      return loopMe('red', -7);
    }), 3000);
    setInterval((function() {
      return loopMe('blue', 5);
    }), 7500);
    setInterval((function() {
      return loopMe('green', 5);
    }), 4500);
    window.onkeypress = function(event) {
      switch (event.key) {
        case ".":
          return commandByTeam('red', {
            chase: "self"
          });
        case ",":
          return commandByTeam('blue', {
            chase: "self"
          });
      }
    };
    return commandByTeam = function(teamClass, activity) {
      var element, j, len, ref;
      ref = document.querySelectorAll('.' + teamClass);
      for (j = 0, len = ref.length; j < len; j++) {
        element = ref[j];
        element.emit('setAction', activity);
      }
    };
  })();
})();</script><div class="container right"><a-scene embedded="embedded" physics="debug: false; driver: local; gravity: -9.6; friction: 0.10; restitution: 0.300;"><a-entity physics="mass:0;" position="0 8 15" rotation="0 0 0"><a-camera physics="mass:0;" universal-controls="universal-controls" body-static="body-static" mouse-cursor="mouse-cursor" look-controls="enabled:true" wasd-controls="enabled:true"><a-cursor></a-cursor></a-camera></a-entity><a-sphere id="outie" class="red" lowroller="debug:true; inner:4;outer:1;pursuit: 2,0;" position="-2 6 -10" radius="1" material="color:#EFff5E; transparent:true; opacity:0.3;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:9;outer:1;" position="-2 1.25 -15" radius="1.25" material="color:#EF005E; transparent:true; opacity:0.3;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-1 0.8 13" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-2 0.8 12" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-3 0.8 11" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-4 0.8 10" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-5 0.8 9" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-6 0.8 8" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-7 0.8 7" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-8 0.8 6" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-9 0.8 5" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="red" dynamic-body="" lowroller="inner:25;outer:15;pursuit: 2.2,0; pid: p:40,i:40,d:0.25;" position="-10 0.8 4" radius="0.8" material="color:#ff0000; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-1 0.9 11" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-2 0.9 10" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-3 0.9 9" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-4 0.9 8" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-5 0.9 7" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-6 0.9 6" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-7 0.9 5" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-8 0.9 4" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-9 0.9 3" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="green" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:20,i:20,d:0.25" position="-10 0.9 2" radius=".9" material="color:#00ff00; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-1 1 9" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-2 1 8" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-3 1 7" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-4 1 6" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-5 1 5" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-6 1 4" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-7 1 3" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-8 1 2" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-9 1 1" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere class="blue" dynamic-body="" lowroller="inner:5;outer:1;pursuit: 2.2,0; pid: p:100,i:200,d:1;type:tetraPositioner;" position="-10 1 0" radius="0.5" material="color:#0000ff; transparent:true; opacity:0.7;"></a-sphere><a-sphere dynamic-body="" physics="mass:0.5" position="0 .25 -2.2" radius=".25" material="color:#EF005E; transparent:true; opacity:0.8;"></a-sphere><a-box dynamic-body="" position="0 4.5 -5" physics="mass:0.5" rotation="0 45 0" width="2" height="2" depth="2" color="#4CC3D9"></a-box><a-cylinder static-body="" position="0 0 0" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder><a-sky color="#cceecc"></a-sky><a-box position="-2 0 0" width="0.1" height="0.1" depth="0.1" color="yellow"></a-box><a-box position="2 0 0" width="0.1" height="0.1" depth="0.1" color="yellow"></a-box><a-box position="-3 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-3 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-3 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-3 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-3 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-2 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-2 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-2 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-2 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-2 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-1 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-1 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-1 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-1 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="-1 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="0 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="0 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="0 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="0 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="0 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="1 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="1 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="1 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="1 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="1 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="2 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="2 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="2 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="2 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="2 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="3 0 -5" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="3 0 -4" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="3 0 -3" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="3 0 -2" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-box position="3 0 -1" width="0.1" height="0.1" depth="0.1" color="green"></a-box><a-entity environment="preset: forest; dressingAmount: 500"></a-entity><a-plane static-body="" position="0  -0.01 -4" rotation="-90 0 0" width="40" height="50" color="#7BC8A4"></a-plane><a-sphere id="marker-blue" position="2 0 2" radius="0.5" color="blue"></a-sphere><a-sphere id="marker-red" position="5.5 0 -5.5" radius="0.5" color="red"></a-sphere><a-sphere id="marker-green" position="4 0 4" radius="0.5" color="green"></a-sphere></a-scene></div><div id="bloviation" class="contents container left"><form><div class="form-group"><div class="form-row"><div class="col-md-4 mb-3"><div>green: <span id="show-green">unset</span></div><label for="greenpControl">proportional</label><input id="greenpControl" class="form-control-range" type="range" value="20" onchange="Pylon.trigger('updatePid',{who: 'green',p: this.value});" /><label for="greeniControl">integral</label><input id="greeniControl" class="form-control-range" type="range" value="20" onchange="Pylon.trigger('updatePid',{who: 'green',i: this.value});" /><label for="greendControl">delta</label><input id="greendControl" class="form-control-range" type="range" min="-1" max="1.5" step="0.05" value="0.25" onchange="Pylon.trigger('updatePid',{who: 'green',d: this.value});" /></div><div class="col-md-4 mb-3"><div>red: <span id="show-red">unset</span></div><label for="redpControl">proportional</label><input id="redpControl" class="form-control-range" type="range" onchange="Pylon.trigger('updatePid',{who: 'red', p: this.value});" /><label for="rediControl">integral</label><input id="rediControl" class="form-control-range" type="range" onchange="Pylon.trigger('updatePid',{who: 'red', i: this.value});" /><label for="reddControl">delta</label><input id="reddControl" class="form-control-range" type="range" min="-1" max="1.5" step="0.05" onchange="Pylon.trigger('updatePid',{who: 'red', d: this.value});" /></div></div></div></form></div></div></div><footer class="c-card__footer"><p class="c-text--quiet">that's all--</p></footer></div></div><aside id="sidebar" class="o-grid__cell o-grid__cell--width-20 p2 bg-darken-2" style="min-width:240"></aside><div id="sidecar" class="o-grid__cell o-grid__cell--width-fixed order-last bg-darken-2" style="min-width:240"><div class="fb-login-button" width="200" data-width="200" data-max-rows="1" data-size="medium" data-button-type="login_with" data-show-faces="true" data-auto-logout-link="true" data-use-continue-as="true"></div><div id="fb-status"></div></div></div></div><div id="console0" class="left" data-limit="100"></div><div id="cover" style="background-image:url(assets/images/hooray-fade2.jpg);-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;ms-filter:FlipH"></div></div></body></html>